document.addEventListener("DOMContentLoaded", function () {
    const ddlNewPtc = document.getElementById('ddl_new_ptc');
    const detailsInput = document.getElementById('txt_details');
    const sizeV1Input = document.getElementById('txt_size_v1');
    const sizeV2Input = document.getElementById('txt_size_v2');
    const sizeV3Input = document.getElementById('txt_size_v3');
    const sizeV4Input = document.getElementById('txt_size_v4');
    const sizeV5Input = document.getElementById('txt_size_v5');
    const sizeV6Input = document.getElementById('txt_size_v6');
    const sizeV7Input = document.getElementById('txt_size_v7');
    const sizeV8Input = document.getElementById('txt_size_v8');
    const sizeV9Input = document.getElementById('txt_size_v9');
    const sizeV10Input = document.getElementById('txt_size_v10');
    const onPdv1Input = document.getElementById('txt_on_pdv1');
    const onPdv2Input = document.getElementById('txt_on_pdv2');
    const onPdv3Input = document.getElementById('txt_on_pdv3');
    const onPdv4Input = document.getElementById('txt_on_pdv4');
    const onPdv5Input = document.getElementById('txt_on_pdv5');
    const onPdv6Input = document.getElementById('txt_on_pdv6');
    const onPdv7Input = document.getElementById('txt_on_pdv7');
    const onPdv8Input = document.getElementById('txt_on_pdv8');
    const onPdv9Input = document.getElementById('txt_on_pdv9');
    const onPdv10Input = document.getElementById('txt_on_pdv10');
    const odV0Input = document.getElementById('txt_od_v0');
    const odV1Input = document.getElementById('txt_od_v1');
    const odV2Input = document.getElementById('txt_od_v2');
    const odV3Input = document.getElementById('txt_od_v3');
    const odV4Input = document.getElementById('txt_od_v4');
    const odV5Input = document.getElementById('txt_od_v5');
    const odV6Input = document.getElementById('txt_od_v6');
    const odV7Input = document.getElementById('txt_od_v7');
    const odV8Input = document.getElementById('txt_od_v8');
    const odV9Input = document.getElementById('txt_od_v9');
    const odV10Input = document.getElementById('txt_od_v10');
    const ifV0Input = document.getElementById('txt_if_v0');
    const ifV1Input = document.getElementById('txt_if_v1');
    const ifV2Input = document.getElementById('txt_if_v2');
    const ifV3Input = document.getElementById('txt_if_v3');
    const ifV4Input = document.getElementById('txt_if_v4');
    const ifV5Input = document.getElementById('txt_if_v5');
    const ifV6Input = document.getElementById('txt_if_v6');
    const ifV7Input = document.getElementById('txt_if_v7');
    const ifV8Input = document.getElementById('txt_if_v8');
    const ifV9Input = document.getElementById('txt_if_v9');
    const ifV10Input = document.getElementById('txt_if_v10');
    const cutV1Input = document.getElementById('txt_cut_v1');
    const cutV2Input = document.getElementById('txt_cut_v2');
    const cutV3Input = document.getElementById('txt_cut_v3');
    const cutV4Input = document.getElementById('txt_cut_v4');
    const cutV5Input = document.getElementById('txt_cut_v5');
    const cutV6Input = document.getElementById('txt_cut_v6');
    const cutV7Input = document.getElementById('txt_cut_v7');
    const cutV8Input = document.getElementById('txt_cut_v8');
    const cutV9Input = document.getElementById('txt_cut_v9');
    const cutV10Input = document.getElementById('txt_cut_v10');
    const cuttrueV1Input = document.getElementById('txt_cuttrue_v1');
    const cuttrueV2Input = document.getElementById('txt_cuttrue_v2');
    const cuttrueV3Input = document.getElementById('txt_cuttrue_v3');
    const cuttrueV4Input = document.getElementById('txt_cuttrue_v4');
    const cuttrueV5Input = document.getElementById('txt_cuttrue_v5');
    const cuttrueV6Input = document.getElementById('txt_cuttrue_v6');
    const cuttrueV7Input = document.getElementById('txt_cuttrue_v7');
    const cuttrueV8Input = document.getElementById('txt_cuttrue_v8');
    const cuttrueV9Input = document.getElementById('txt_cuttrue_v9');
    const cuttrueV10Input = document.getElementById('txt_cuttrue_v10');
    const resultV1Input = document.getElementById('txt_result_v1');
    const resultV2Input = document.getElementById('txt_result_v2');
    const resultV3Input = document.getElementById('txt_result_v3');
    const resultV4Input = document.getElementById('txt_result_v4');
    const resultV5Input = document.getElementById('txt_result_v5');
    const resultV6Input = document.getElementById('txt_result_v6');
    const detailsVInput = document.getElementById('txt_details');
    const detailsV1Input = document.getElementById('txt_details_v1');
    const detailsV2Input = document.getElementById('txt_details_v2');
    const detailsV3Input = document.getElementById('txt_details_v3');
    const detailsV4Input = document.getElementById('txt_details_v4');
    const detailsV5Input = document.getElementById('txt_details_v5');
    const detailsV6Input = document.getElementById('txt_details_v6');
    const detailsV7Input = document.getElementById('txt_details_v7');
    const detailsV8Input = document.getElementById('txt_details_v8');
    const detailsV9Input = document.getElementById('txt_details_v9');
    const detailsV10Input = document.getElementById('txt_details_v10');
    const detailsV11Input = document.getElementById('txt_details_v11');
    const detailsV12Input = document.getElementById('txt_details_v12');
    const detailsV13Input = document.getElementById('txt_details_v13');
    const detailsV14Input = document.getElementById('txt_details_v14');
    const detailsV15Input = document.getElementById('txt_details_v15');
    const nmdetailS1Input = document.getElementById('txt_nmdetails1');
    const nmdetailS2Input = document.getElementById('txt_nmdetails2');
    const nmdetailS3Input = document.getElementById('txt_nmdetails3');
    const nmdetailS4Input = document.getElementById('txt_nmdetails4');
    const nmdetailS5Input = document.getElementById('txt_nmdetails5');
    const nmdetailS6Input = document.getElementById('txt_nmdetails6');
    const nmdetailS7Input = document.getElementById('txt_nmdetails7');
    const nmdetailS8Input = document.getElementById('txt_nmdetails8');
    const nmdetailS9Input = document.getElementById('txt_nmdetails9');
    const nmdetailS10Input = document.getElementById('txt_nmdetails10');
    const nmdetailS11Input = document.getElementById('txt_nmdetails11');
    const nmdetailS12Input = document.getElementById('txt_nmdetails12');
    const nmdetailS13Input = document.getElementById('txt_nmdetails13');
    const nmdetailS14Input = document.getElementById('txt_nmdetails14');
    const nmdetailS15Input = document.getElementById('txt_nmdetails15');


    // ส่งคำขอ Fetch API เพื่อดึงข้อมูล new_ptc จากฐานข้อมูล
    fetch('get_ptc.php')
        .then(response => response.json())
        .then(data => {
            // เพิ่มตัวเลือกใน dropdown จากข้อมูลที่ดึงมา
            data.forEach(item => {
                const option = document.createElement('option');
                option.value = item.new_ptc;
                option.textContent = item.new_ptc;
                ddlNewPtc.appendChild(option);
            });
        })
        .catch(error => console.error('เกิดข้อผิดพลาด: ' + error));

    // เมื่อผู้ใช้เลือกตัวเลือกใน dropdown
    ddlNewPtc.addEventListener('change', function () {
        const selectedValue = ddlNewPtc.value;
        if (selectedValue !== "") {
            // ส่งคำขอ Fetch API ไปยังสคริปต์ PHP เพื่อดึงข้อมูล
            fetch('get_dt.php?new_ptc=' + selectedValue)
                .then(response => response.json())
                .then(data => {
                    // แสดงข้อมูลใน input fields หากมีข้อมูลใน JSON
if (data) {
    detailsInput.value = data.details;
    sizeV1Input.value = data.size_v1;
    sizeV2Input.value = data.size_v2;
    sizeV3Input.value = data.size_v3;
    sizeV4Input.value = data.size_v4;
    sizeV5Input.value = data.size_v5;
    sizeV6Input.value = data.size_v6;
    sizeV7Input.value = data.size_v7;
    sizeV8Input.value = data.size_v8;
    sizeV9Input.value = data.size_v9;
    sizeV10Input.value = data.size_v10;
    onPdv1Input.value = data.on_pdv1;
    onPdv2Input.value = data.on_pdv2;
    onPdv3Input.value = data.on_pdv3;
    onPdv4Input.value = data.on_pdv4;
    onPdv5Input.value = data.on_pdv5;
    onPdv6Input.value = data.on_pdv6;
    onPdv7Input.value = data.on_pdv7;
    onPdv8Input.value = data.on_pdv8;
    onPdv9Input.value = data.on_pdv9;
    onPdv10Input.value = data.on_pdv10;
    odV0Input.value = data.od_v0;
    odV1Input.value = data.od_v1;
    odV2Input.value = data.od_v2;
    odV3Input.value = data.od_v3;
    odV4Input.value = data.od_v4;
    odV5Input.value = data.od_v5;
    odV6Input.value = data.od_v6;
    odV7Input.value = data.od_v7;
    odV8Input.value = data.od_v8;
    odV9Input.value = data.od_v9;
    odV10Input.value = data.od_v10;
    ifV0Input.value = data.if_v0;
    ifV1Input.value = data.if_v1;
    ifV2Input.value = data.if_v2;
    ifV3Input.value = data.if_v3;
    ifV4Input.value = data.if_v4;
    ifV5Input.value = data.if_v5;
    ifV6Input.value = data.if_v6;
    ifV7Input.value = data.if_v7;
    ifV8Input.value = data.if_v8;
    ifV9Input.value = data.if_v9;
    ifV10Input.value = data.if_v10;
    cutV1Input.value = data.cut_v1;
    cutV2Input.value = data.cut_v2;
    cutV3Input.value = data.cut_v3;
    cutV4Input.value = data.cut_v4;
    cutV5Input.value = data.cut_v5;
    cutV6Input.value = data.cut_v6;
    cutV7Input.value = data.cut_v7;
    cutV8Input.value = data.cut_v8;
    cutV9Input.value = data.cut_v9;
    cutV10Input.value = data.cut_v10;
    cuttrueV1Input.value = data.cuttrue_v1;
    cuttrueV2Input.value = data.cuttrue_v2;
    cuttrueV3Input.value = data.cuttrue_v3;
    cuttrueV4Input.value = data.cuttrue_v4;
    cuttrueV5Input.value = data.cuttrue_v5;
    cuttrueV6Input.value = data.cuttrue_v6;
    cuttrueV7Input.value = data.cuttrue_v7;
    cuttrueV8Input.value = data.cuttrue_v8;
    cuttrueV9Input.value = data.cuttrue_v9;
    cuttrueV10Input.value = data.cuttrue_v10;
    resultV1Input.value = data.result_v1;
    resultV2Input.value = data.result_v2;
    resultV3Input.value = data.result_v3;
    resultV4Input.value = data.result_v4;
    resultV5Input.value = data.result_v5;
    resultV6Input.value = data.result_v6;
    detailsInput.value = data.details;
    detailsV1Input.value = data.cuttrue_v1;
    detailsV2Input.value = data.cuttrue_v2;
    detailsV3Input.value = data.cuttrue_v3;
    detailsV4Input.value = data.cuttrue_v4;
    detailsV5Input.value = data.cuttrue_v5;
    detailsV6Input.value = data.cuttrue_v6;
    detailsV7Input.value = data.cuttrue_v7;
    detailsV8Input.value = data.cuttrue_v8;
    detailsV9Input.value = data.cuttrue_v9;
    detailsV10Input.value = data.cuttrue_v10;
    detailsV11Input.value = data.cuttrue_v11;
    detailsV12Input.value = data.cuttrue_v12;
    detailsV13Input.value = data.cuttrue_v13;
    detailsV14Input.value = data.cuttrue_v14;
    detailsV15Input.value = data.cuttrue_v15;
    nmdetailS1Input.value = data.nmdetails1;
    nmdetailS2Input.value = data.nmdetails2;
    nmdetailS3Input.value = data.nmdetails3;
    nmdetailS4Input.value = data.nmdetails4;
    nmdetailS5Input.value = data.nmdetails5;
    nmdetailS6Input.value = data.nmdetails6;
    nmdetailS7Input.value = data.nmdetails7;
    nmdetailS8Input.value = data.nmdetails8;
    nmdetailS9Input.value = data.nmdetails9;
    nmdetailS10Input.value = data.nmdetails10;
    nmdetailS11Input.value = data.nmdetails11;
    nmdetailS12Input.value = data.nmdetails12;
    nmdetailS13Input.value = data.nmdetails13;
    nmdetailS14Input.value = data.nmdetails14;
    nmdetailS15Input.value = data.nmdetails15;
    
}
})
    .catch(error => console.error('เกิดข้อผิดพลาด: ' + error));
} else {
    // กรณีไม่มีข้อมูลใน JSON
    detailsInput.value = '';
    sizeV1Input.value = '';
    sizeV2Input.value = '';
    sizeV3Input.value = '';
    sizeV4Input.value = '';
    sizeV5Input.value = '';
    sizeV6Input.value = '';
    sizeV7Input.value = '';
    sizeV8Input.value = '';
    sizeV9Input.value = '';
    sizeV10Input.value = '';
    onPdv1Input.value = '';
    onPdv2Input.value = '';
    onPdv3Input.value = '';
    onPdv4Input.value = '';
    onPdv5Input.value = '';
    onPdv6Input.value = '';
    onPdv7Input.value = '';
    onPdv8Input.value = '';
    onPdv9Input.value = '';
    onPdv10Input.value = '';
    odV0Input.value = '';
    odV1Input.value = '';
    odV2Input.value = '';
    odV3Input.value = '';
    odV4Input.value = '';
    odV5Input.value = '';
    odV6Input.value = '';
    odV7Input.value = '';
    odV8Input.value = '';
    odV9Input.value = '';
    odV10Input.value = '';
    ifV0Input.value = '';
    ifV1Input.value = '';
    ifV2Input.value = '';
    ifV3Input.value = '';
    ifV4Input.value = '';
    ifV5Input.value = '';
    ifV6Input.value = '';
    ifV7Input.value = '';
    ifV8Input.value = '';
    ifV9Input.value = '';
    ifV10Input.value = '';
    cutV1Input.value = '';
    cutV2Input.value = '';
    cutV3Input.value = '';
    cutV4Input.value = '';
    cutV5Input.value = '';
    cutV6Input.value = '';
    cutV7Input.value = '';
    cutV8Input.value = '';
    cutV9Input.value = '';
    cutV10Input.value = '';
    cuttrueV1Input.value = '';
    cuttrueV2Input.value = '';
    cuttrueV3Input.value = '';
    cuttrueV4Input.value = '';
    cuttrueV5Input.value = '';
    cuttrueV6Input.value = '';
    cuttrueV7Input.value = '';
    cuttrueV8Input.value = '';
    cuttrueV9Input.value = '';
    cuttrueV10Input.value = '';
    resultV1Input.value = '';
    resultV2Input.value = '';
    resultV3Input.value = '';
    resultV4Input.value = '';
    resultV5Input.value = '';
    resultV6Input.value = '';
    detailsVInput.value = '';
    detailsV1Input.value = '';
    detailsV2Input.value = '';
    detailsV3Input.value = '';
    detailsV4Input.value = '';
    detailsV5Input.value = '';
    detailsV6Input.value = '';
    detailsV7Input.value = '';
    detailsV8Input.value = '';
    detailsV9Input.value = '';
    detailsV10Input.value = '';
    detailsV11Input.value = '';
    detailsV12Input.value = '';
    detailsV13Input.value = '';
    detailsV14Input.value = '';
    detailsV15Input.value = '';
    detailsVInput.value = '';
    nmdetails1Input.value = '';
    nmdetails2Input.value = '';
    nmdetails3Input.value = '';
    nmdetails4Input.value = '';
    nmdetails5Input.value = '';
    nmdetails6Input.value = '';
    nmdetails7Input.value = '';
    nmdetails8Input.value = '';
    nmdetails9Input.value = '';
    nmdetails10Input.value = '';
    nmdetails11Input.value = '';
    nmdetails12Input.value = '';
    nmdetails13Input.value = '';
    nmdetails14Input.value = '';
    nmdetails15Input.value = '';
}

    });
});
